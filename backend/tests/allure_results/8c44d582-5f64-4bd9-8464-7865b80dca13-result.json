{"name": "API Test: Create VM", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 201, got 401\nassert 401 == 201\n +  where 401 = <Response [401]>.status_code", "trace": "self = <test_vm_3_post_api.TestVMCreationAPI object at 0x7f2b5b975bd0>\n\n    @allure.title(\"API Test: Create VM\")\n    @allure.link(\"https://jira.cloud.ru/browse/TASK-PENDING\", name=\"Related Task\")\n    @allure.tag(\"NORMAL\")\n    @allure.label(\"priority\", \"normal\")\n    def test_scenario(self):\n        # Arrange\n        base_url = \"https://compute.api.cloud.ru\"\n        endpoint = \"/api/v1/vms\"\n        token = os.getenv(\"CLOUD_API_TOKEN\") # Security fix\n    \n        headers = {\n            \"Authorization\": f\"Bearer {token}\",\n            \"Content-Type\": \"application/json\"\n        }\n    \n        # Payload: Array of objects (as per docs)\n        payload = [\n          {\n            \"project_id\": \"4582273a-e0e7-4fb4-b284-8a91cb03d106\",\n            \"name\": \"test-vm-01\",\n            \"flavor_id\": \"fa3e89aa-6829-47f5-8bf4-76d57211a9f1\",\n            \"image_id\": \"84c230fd-5520-4984-8119-37365b66fd80\",\n            # Required array fields\n            \"disks\": [\n                {\n                    \"disk_id\": \"9fb32f13-bddc-42b3-9a07-4aed1801aae6\",\n                    \"disk_name\": \"boot-disk\"\n                }\n            ],\n            # Optional fields populated from sample\n            \"description\": \"Auto-generated test VM\",\n            \"cloud_init\": \"#!/bin/bash\\necho hello\"\n          }\n        ]\n    \n        # Act\n        with allure.step(f\"POST {endpoint}\"):\n            response = requests.post(base_url + endpoint, headers=headers, json=payload)\n    \n        # Assert\n        with allure.step(\"Check Status Code 201 (Created)\"):\n>           assert response.status_code == 201, f\"Expected 201, got {response.status_code}\"\nE           AssertionError: Expected 201, got 401\nE           assert 401 == 201\nE            +  where 401 = <Response [401]>.status_code\n\ntest_vm_3_post_api.py:52: AssertionError"}, "steps": [{"name": "POST /api/v1/vms", "status": "passed", "start": 1765536659985, "stop": 1765536660492}, {"name": "Check Status Code 201 (Created)", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 201, got 401\nassert 401 == 201\n +  where 401 = <Response [401]>.status_code\n", "trace": "  File \"/home/muhammad/Dev/HACKATHON/Moscow/cloud.ru/test/test_vm_3_post_api.py\", line 52, in test_scenario\n    assert response.status_code == 201, f\"Expected 201, got {response.status_code}\"\n"}, "start": 1765536660492, "stop": 1765536660493}], "start": 1765536659985, "stop": 1765536660494, "uuid": "2f44f9b1-1d5e-4ea0-ba76-cfaa5cf7c979", "historyId": "01a5fb23c88c918433b0bcbe58d59035", "testCaseId": "01a5fb23c88c918433b0bcbe58d59035", "fullName": "test_vm_3_post_api.TestVMCreationAPI#test_scenario", "labels": [{"name": "tag", "value": "NORMAL"}, {"name": "suite", "value": "API"}, {"name": "feature", "value": "VMCreationAPI"}, {"name": "story", "value": "Story: VMCreationAPI"}, {"name": "priority", "value": "normal"}, {"name": "subSuite", "value": "TestVMCreationAPI"}, {"name": "host", "value": "222"}, {"name": "thread", "value": "9232-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vm_3_post_api"}], "links": [{"type": "link", "url": "https://jira.cloud.ru/browse/TASK-PENDING", "name": "Related Task"}, {"type": "link", "url": "https://jira.cloud.ru/browse/TASK-API-VM-CREATE", "name": "API Docs"}], "titlePath": ["test_vm_3_post_api.py", "TestVMCreationAPI"]}