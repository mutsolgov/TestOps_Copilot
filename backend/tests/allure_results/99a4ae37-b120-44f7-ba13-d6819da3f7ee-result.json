{"name": "API Test: Change VM Status", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 204, got 422\nassert 422 == 204\n +  where 422 = <Response [422]>.status_code", "trace": "self = <test_put_vm_api.TestVMStatusManagement object at 0x7f0d596ec550>\n\n    @allure.title(\"API Test: Change VM Status\")\n    @allure.link(\"https://jira.cloud.ru/browse/TASK-PENDING\", name=\"Related Task\")\n    @allure.tag(\"NORMAL\")\n    @allure.label(\"priority\", \"normal\")\n    def test_scenario(self):\n        # Arrange\n        base_url = \"https://compute.api.cloud.ru\"\n        endpoint = \"/api/v1/vms\"\n        token = \"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImEyMjM3ZDhhLWQ0ZDQtNDA5Yi04ZTMxLWM3NGJhYTZhM2NjYiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiaWFtIl0sImF1dGhfdGltZSI6MTc2NTQ1MTg1NywiYXpwIjoiYjhkZDQ0MTQ0YmUwYmMxYjQxZGI3NDg5NWNhMTA3NTIiLCJjdXN0b21lcl9pZCI6ImM2YjUyMmZlLTU2YjMtNGZiOS1iNGUwLWE1NWM4OWNmN2I1NyIsImVtYWlsIjoiRXpkZWxAYzZiNTIyZmUtNTZiMy00ZmI5LWI0ZTAtYTU1Yzg5Y2Y3YjU3LmlhbS5jbG91ZC5ydSIsImV4cCI6MTc2NTQ1NTQ1NywiaWF0IjoxNzY1NDUxODU3LCJpc3MiOiJodHRwczovL2F1dGguaWFtLnNiZXJjbG91ZC5ydS9hdXRoL3N5c3RlbSIsImp0aSI6IjY5Nzk1NGZlLTFjM2YtNDVlMC1hMjdiLTdlMjE3YTA0MzZiYSIsIm5iZiI6MTc2NTQ1MTg1Nywibm9uY2UiOiIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJFemRlbCIsInByb2plY3RfaWQiOiI0NTgyMjczYS1lMGU3LTRmYjQtYjI4NC04YTkxY2IwM2QxMDYiLCJyZXNvdXJjZV9hY2Nlc3MiOm51bGwsInNjb3BlIjoiZW1haWwgb3BlbmlkIHByb2ZpbGUgcm9sZXMiLCJzdWIiOiIzZmZmOWVhMi0wYzM5LTQ3ODQtODIzOS00M2IyZmE1OWYzZTEiLCJzdWJfaWQiOiIzZmZmOWVhMi0wYzM5LTQ3ODQtODIzOS00M2IyZmE1OWYzZTEiLCJzdWJfdHlwZSI6InNlcnZpY2VfYWNjb3VudCIsInR5cCI6IkJlYXJlciJ9.WYc_oAzWIzE2LvtPOoWSm11N_j4W2ds0z5UU6x272N64P0DDjhmsjNMQt3nvYh6GGK60fOqAJpGkCn5Hg_vqQXxOUv34Sg-ReLUdbBKr4Gfz77CJLtP0cJgS7oiNtns-5MkifGceqN81-AfBA7Mt3YeHi9u3Gym8RoQ8G-FRpx-MUU_gA2eOU_hxQs4Ksozplbxt5Xrc2bdKGwiC-lJ1di0JyLBjRH_gwX2WlfJiy-S4zoQQvlk8_m7FIJAX2l-0WeGFPC4-0SIqQqOa6YPdEm1G_ug4DyxqADrY3NLXxKpG9CpcvHTyoOeZ7Z1dMedzbTuMFLMZy7q0MOP2V0BzOw\"\n    \n        headers = {\n            \"Authorization\": token,\n            \"Content-Type\": \"application/json\"\n        }\n    \n        # Payload: Array of objects (as per docs)\n        payload = [\n          {\n            \"id\": \"497f6eca-6276-4993-bfeb-53cbbbba6f08\",\n            \"state\": \"stopped\"\n          }\n        ]\n    \n        # Act\n        with allure.step(f\"PUT {endpoint}\"):\n            # Using PUT method as identified from context\n            response = requests.put(base_url + endpoint, headers=headers, json=payload)\n    \n        # Assert\n        with allure.step(\"Check Status Code 204 (Meaning Successful Update)\"):\n>           assert response.status_code == 204, f\"Expected 204, got {response.status_code}\"\nE           AssertionError: Expected 204, got 422\nE           assert 422 == 204\nE            +  where 422 = <Response [422]>.status_code\n\ntest_put_vm_api.py:40: AssertionError"}, "steps": [{"name": "PUT /api/v1/vms", "status": "passed", "start": 1765453194356, "stop": 1765453194992}, {"name": "Check Status Code 204 (Meaning Successful Update)", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 204, got 422\nassert 422 == 204\n +  where 422 = <Response [422]>.status_code\n", "trace": "  File \"/home/muhammad/Dev/HACKATHON/Moscow/cloud.ru/test/test_put_vm_api.py\", line 40, in test_scenario\n    assert response.status_code == 204, f\"Expected 204, got {response.status_code}\"\n"}, "start": 1765453194992, "stop": 1765453194992}], "start": 1765453194355, "stop": 1765453194993, "uuid": "45a441cb-e355-4b74-a4ca-217fa9e5de14", "historyId": "638855adbd7ad2ae6be0329d2948570a", "testCaseId": "638855adbd7ad2ae6be0329d2948570a", "fullName": "test_put_vm_api.TestVMStatusManagement#test_scenario", "labels": [{"name": "feature", "value": "VMStatusManagement"}, {"name": "priority", "value": "normal"}, {"name": "story", "value": "Story: VMStatusManagement"}, {"name": "suite", "value": "API"}, {"name": "tag", "value": "NORMAL"}, {"name": "subSuite", "value": "TestVMStatusManagement"}, {"name": "host", "value": "222"}, {"name": "thread", "value": "88436-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_put_vm_api"}], "links": [{"type": "link", "url": "https://jira.cloud.ru/browse/TASK-PENDING", "name": "Related Task"}, {"type": "link", "url": "https://jira.cloud.ru/browse/TASK-API-VM-STATUS", "name": "API Docs"}], "titlePath": ["test_put_vm_api.py", "TestVMStatusManagement"]}