{"name": "API Test: Update VM", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 200, got 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code", "trace": "self = <test_put_update_vm_api.TestVMUpdateAPI object at 0x7f107d87d450>\n\n    @allure.title(\"API Test: Update VM\")\n    @allure.link(\"https://jira.cloud.ru/browse/TASK-PENDING\", name=\"Related Task\")\n    @allure.tag(\"NORMAL\")\n    @allure.label(\"priority\", \"normal\")\n    def test_scenario(self):\n        # Arrange\n        base_url = \"https://compute.api.cloud.ru\"\n        vm_id = \"a4a95988-3907-4724-ad06-a7bd42ac5680\" # Example UUID\n        endpoint = f\"/api/v1/vms/{vm_id}\"\n        token = os.getenv(\"CLOUD_API_TOKEN\") # Security fix\n    \n        headers = {\n            \"Authorization\": f\"Bearer {token}\",\n            \"Content-Type\": \"application/json\"\n        }\n    \n        payload = {\n            \"name\": f\"Updated Name {int(time.time())}\", # Добавьте уникальность\n            \"description\": \"Updated Description via Test\",\n            # ИСПРАВЛЕНИЕ: Используем UUID, а не имя!\n            \"flavor_id\": \"139ddd16-2482-4694-991d-9b1834266e03\",\n            # ДОБАВЛЕНИЕ: Project ID часто обязателен для PUT\n            \"project_id\": \"4582273a-e0e7-4fb4-b284-8a91cb03d106\"\n        }\n    \n        # Act\n        with allure.step(f\"PUT {endpoint}\"):\n            response = requests.put(base_url + endpoint, headers=headers, json=payload)\n    \n        # Assert\n        with allure.step(\"Check Status Code 200\"):\n>           assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\nE           AssertionError: Expected 200, got 401\nE           assert 401 == 200\nE            +  where 401 = <Response [401]>.status_code\n\ntest_put_update_vm_api.py:43: AssertionError"}, "steps": [{"name": "PUT /api/v1/vms/a4a95988-3907-4724-ad06-a7bd42ac5680", "status": "passed", "start": 1765491885650, "stop": 1765491886002}, {"name": "Check Status Code 200", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 200, got 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code\n", "trace": "  File \"/home/muhammad/Dev/HACKATHON/Moscow/cloud.ru/test/test_put_update_vm_api.py\", line 43, in test_scenario\n    assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\n"}, "start": 1765491886002, "stop": 1765491886003}], "start": 1765491885649, "stop": 1765491886003, "uuid": "d7873861-dcd1-4caa-9da0-0b3284229d8a", "historyId": "2cdfd4cdffc46c22fc7bbd831bb12154", "testCaseId": "2cdfd4cdffc46c22fc7bbd831bb12154", "fullName": "test_put_update_vm_api.TestVMUpdateAPI#test_scenario", "labels": [{"name": "feature", "value": "VMUpdateAPI"}, {"name": "priority", "value": "normal"}, {"name": "suite", "value": "API"}, {"name": "story", "value": "Story: VMUpdateAPI"}, {"name": "tag", "value": "NORMAL"}, {"name": "subSuite", "value": "TestVMUpdateAPI"}, {"name": "host", "value": "222"}, {"name": "thread", "value": "11153-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_put_update_vm_api"}], "links": [{"type": "link", "url": "https://jira.cloud.ru/browse/TASK-PENDING", "name": "Related Task"}, {"type": "link", "url": "https://jira.cloud.ru/browse/TASK-API-VM-UPDATE", "name": "API Docs"}], "titlePath": ["test_put_update_vm_api.py", "TestVMUpdateAPI"]}